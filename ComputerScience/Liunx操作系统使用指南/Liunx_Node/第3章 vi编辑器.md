## 3.1 vi的工作方式

​	vi编辑器有三种工作方式：**命令方式、输入方式和ex转义方式。**我们可以通过vi编辑器打开一个或多个文件进行编辑。命令语法格式如下：

```basj
vi -o file1 file2 ...
```

​	`-o`:以多个窗口的方式打开文件

​	打开多个文件时，在命令方式下输入`:next`进入下一个文件的编辑

#### 3.3.1 命令方式

​	在第一次使用vi编辑文件时，此时处于命令方式。Liunx会等待输入命令方式或ex转义方式。下面介绍一些常用的命令方式，**a表示附加命令，i表示插入命令，x表示删除字符命令等**。若输入的字符不是vi的合法命令，机器发出报警声。

​	



#### 3.3.2 输入方式

​	Liunx有多种输入方式：

- `i或I`：在光标前插入字符，大写光标自动移动到该行首字符处。
- `a或A`：在光标后插入字符，大写光标自动移动到该行尾字符处。
- `o或O`：在下一行插入字符，大写表示在上一行插入字符

​	



#### 3.3.3 保存文件

​	使用下面的命令可以保存文件：

​	`:w` 将缓存区的内容写到上一次指定的文件中。

​	`:w file` 将缓冲区的内容写到名为file的文件中

​	`w! file` 强制将缓存区的内容写到file中



#### 3.3.4 文本修改

| 命令           | 功能                                                         |
| -------------- | ------------------------------------------------------------ |
| x<br/>X        | 删除光标所在的字符，若前面给出一个数值n，则由光标所在字符开始、向右删除n个字符。<br />大写则表示想向删除n个字符 |
| dd             | 删除光标所在的整行，5dd删除光标所在行及后续4行               |
| D              | 从光标位置删除到行尾                                         |
| u<br/>U        | 复原命令，取消刚才的插入或删除命令，恢复到原来的状况，所有修改文本的命令都视为插入<br />而U命令直接把当前行回到成它被编辑之前的状态，不管光标移到该行后它被编辑了多少次 |
| .              | 重复命令，仅重复实现最近一次使用的插入命令或删除命令         |
| c<br/>C<br/>cc | 修改文本对象，用新输入的文本代替老的文本。它们等价于用删除命令删除老文本，然后用i命令插入新文本。输入新文本之后需按Esc键才能回到命令方式。<br />c命令的一般使用方式是：c+光标移动命令+新文本+Ecs键。光标移动命令限定删除的文本范围 |





#### 3.3.5 退出vi

​	当编辑完文件，想要退出vi，进入shell状态时，应当输入如下命令：

`:wq` 保存并退出

`:zz`: 仅当修改后的保存并退出

`:x` 与zz的作用相同

`:q!` 强制退出vi，不管是否保存。未保存会丢失编辑的内容
